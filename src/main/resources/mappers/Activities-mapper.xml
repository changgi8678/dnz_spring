<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Activities">

    <!-- 활동 기록 추가 -->
    <insert id="insertActivity" parameterType="com.kedu.dto.ActivitiesDTO">
        INSERT INTO activities (activity_id, user_seq, activity_type, activity_description, activity_date)
        VALUES (activities_seq.NEXTVAL, #{userSeq}, #{activityType}, #{activityDescription}, CURRENT_TIMESTAMP)
    </insert>

    <!-- 특정 사용자의 활동 기록 조회 -->
    <select id="getActivitiesByUserSeq" parameterType="int" resultType="com.kedu.dto.ActivitiesDTO">
        SELECT activity_id, user_seq, activity_type, activity_description, activity_date
        FROM activities
        WHERE user_seq = #{userSeq}
        ORDER BY activity_date DESC
    </select>

</mapper>
